<div
  class="container-fluid justify-content-center animate-fade-up"
  style="padding-top: 80px"
>
  <h4 class="text-center my-2 text-danger">Crear Orden de Trabajo</h4>

  <div class="card">
    <div class="card-body">
      <form [formGroup]="workOrderForm" (ngSubmit)="recibirDatos()">
        <div class="row">
          <!-- Campo: Nombre del usuario -->
          <div class="col-md-4 mt-2">
            <div class="md-3">
              <label>Nombre Usuario</label>
              <select class="form-select" formControlName="userId">
                @for (user of usersInfo; track $index) {
                <option value="{{ user._id }}">{{ user.name }}</option>
                }
              </select>
              @if (formulario['userId'].hasError('required') &&
              formulario['userId'].touched) {
              <small class="text-danger">
                El nombre del cliente es obligatorio
              </small>
              }
            </div>
          </div>
          
          <!-- Campo: Vehículo -->
          <div class="col-md-4 mt-2">
            <div class="md-3">
              <label>Vehículo</label>
              <select class="form-select" formControlName="vehicleId" >
                @for (vehicle of filteredVehicles; track $index) {
                    <option value="{{ vehicle._id }}">{{ vehicle.make }}</option>
                    }
            </select>
            @if (formulario['vehicleId'].hasError('required') &&
            formulario['vehicleId'].touched) {
            <small class="text-danger">
              El vehiculo del cliente es obligatorio
            </small>
            }
            </div>
          </div>

          <!-- Campo: Descripción -->
          <div class="col-md-4 mt-2">
            <div class="md-3">
              <label>Descripción</label>
              <input
                type="text"
                class="form-control"
                placeholder="Ingrese la descripción"
                formControlName="description"
                required
              />
            </div>
          </div>

          <!-- Campo: Estatus -->
          <div class="col-md-4 mt-2">
            <div class="md-3">
              <label>Estatus</label>
              <select class="form-select" formControlName="status" required>
                <option value="pending">Pendiente</option>
                <option value="in-progress">En Progreso</option>
                <option value="completed">Completado</option>
              </select>
            </div>
          </div>

          <!-- Campo: Costo -->
          <div class="col-md-4 mt-3">
            <div class="md-3">
              <label>Costo</label>
              <input
                type="number"
                class="form-control"
                placeholder="Ingrese el costo"
                formControlName="cost"
                required
              />
            </div>
          </div>
        </div> <!-- Faltaba cerrar este div -->

        <div class="mt-4 d-flex justify-content-center">
          <button class="btn btn-danger" type="button" (click)="cancelar()">Cancelar</button>
          <button
            type="submit"
            class="btn btn-primary ms-2"
            [disabled]="workOrderForm.invalid"
          >
            Enviar
          </button>
        </div>
      </form>
    </div>
  </div>
</div>
